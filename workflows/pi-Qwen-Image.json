{"id":"91f6bbe2-ed41-4fd6-bac7-71d5b5864ecb","revision":0,"last_node_id":80,"last_link_id":158,"nodes":[{"id":60,"type":"SaveImage","pos":[1160,20],"size":[490,600],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":110},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImage","cnr_id":"comfy-core","ver":"0.3.48","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["ComfyUI"]},{"id":8,"type":"VAEDecode","pos":[880,580],"size":[210,46],"flags":{"collapsed":false},"order":8,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":157},{"localized_name":"vae","name":"vae","type":"VAE","link":76}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[110]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.48","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[]},{"id":80,"type":"ModelSamplingPiFlow","pos":[550,60],"size":[270,58],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":153},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[154]}],"properties":{"Node name for S&R":"ModelSamplingPiFlow"},"widgets_values":[3.2]},{"id":6,"type":"CLIPTextEncode","pos":[390,220],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":74},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[149]}],"title":"CLIP Text Encode","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.48","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["Photo of a coffee shop entrance featuring a chalkboard sign reading \"œÄ-Qwen Coffee üòä $2 per cup,\" with a neon light beside it displaying \"œÄ-ÈÄö‰πâÂçÉÈóÆ\". Next to it hangs a poster showing a beautiful Chinese woman, and beneath the poster is written \"e‚âà2.71828-18284-59045-23536-02874-71352\"."],"color":"#232","bgcolor":"#353"},{"id":78,"type":"Load pi-Flow Model","pos":[20,50],"size":[330.6031188964844,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null},{"localized_name":"adapter_name","name":"adapter_name","shape":7,"type":"COMBO","widget":{"name":"adapter_name"},"link":null},{"localized_name":"adapter_strength","name":"adapter_strength","shape":7,"type":"FLOAT","widget":{"name":"adapter_strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[153]}],"properties":{"Node name for S&R":"Load pi-Flow Model"},"widgets_values":["qwen_image_fp8_e4m3fn.safetensors","default","gmqwen_k8_piid_4step.safetensors",1]},{"id":58,"type":"EmptySD3LatentImage","pos":[50,520],"size":[270,106],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[150]}],"properties":{"Node name for S&R":"EmptySD3LatentImage","cnr_id":"comfy-core","ver":"0.3.48","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[1360,768,1]},{"id":39,"type":"VAELoader","pos":[20,370],"size":[330,60],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[76]}],"properties":{"Node name for S&R":"VAELoader","cnr_id":"comfy-core","ver":"0.3.48","models":[{"name":"qwen_image_vae.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors","directory":"vae"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["qwen_image_vae.safetensors"]},{"id":38,"type":"CLIPLoader","pos":[20,220],"size":[330,110],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[74]}],"properties":{"Node name for S&R":"CLIPLoader","cnr_id":"comfy-core","ver":"0.3.48","models":[{"name":"qwen_2.5_vl_7b_fp8_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors","directory":"text_encoders"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["qwen_2.5_vl_7b_fp8_scaled.safetensors","qwen_image","default"]},{"id":79,"type":"pi-Flow Sampler","pos":[840,230],"size":[298,290],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":154},{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":149},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":150},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"substeps","name":"substeps","type":"INT","widget":{"name":"substeps"},"link":null},{"localized_name":"final_step_size_scale","name":"final_step_size_scale","type":"FLOAT","widget":{"name":"final_step_size_scale"},"link":null},{"localized_name":"diffusion_coefficient","name":"diffusion_coefficient","type":"FLOAT","widget":{"name":"diffusion_coefficient"},"link":null},{"localized_name":"gm_temperature","name":"gm_temperature","type":"COMBO","widget":{"name":"gm_temperature"},"link":null},{"localized_name":"manual_gm_temperature","name":"manual_gm_temperature","type":"FLOAT","widget":{"name":"manual_gm_temperature"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[157]}],"properties":{"Node name for S&R":"pi-Flow Sampler"},"widgets_values":[917811633738671,"randomize",4,128,0.5000000000000001,0,"auto",1,1]},{"id":67,"type":"MarkdownNote","pos":[-540,10],"size":[540,630],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"Model links","properties":{"widget_ue_connectable":{}},"widgets_values":["## Model links\n\n**Base model**\n\n- Download [qwen_image_fp8_e4m3fn.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors) and save it to\n<br>`models/diffusion_models/qwen_image_fp8_e4m3fn.safetensors`\n\n**pi-Flow adapter**\n\n- Download [gmqwen_k8_piid_4step/diffusion_pytorch_model.safetensors](https://huggingface.co/Lakonik/pi-Qwen-Image/resolve/main/gmqwen_k8_piid_4step/diffusion_pytorch_model.safetensors) and save it to \n<br>`models/loras/gmqwen_k8_piid_4step.safetensors`\n\n**Text encoder**\n\n- Download [qwen_2.5_vl_7b_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors) and save it to\n<br>`models/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors`\n\n**VAE**\n\n- Download [qwen_image_vae.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors) and save it to\n<br>`models/vae/qwen_image_vae.safetensors`\n\n**Model Storage Location**\n\n```\nüìÇ ComfyUI/\n‚îú‚îÄ‚îÄ üìÇ models/\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ diffusion_models/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qwen_image_fp8_e4m3fn.safetensors\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ loras/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gmqwen_k8_piid_4step.safetensors\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ vae/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qwen_image_vae.safetensors\n‚îÇ   ‚îî‚îÄ‚îÄ üìÇ text_encoders/\n‚îÇ       ‚îî‚îÄ‚îÄ qwen_2.5_vl_7b_fp8_scaled.safetensors\n```\n\n## Adapter strength\n\nIncreasing `adapter_strength` in the loader node can reduce noise and enhance text rendering. This may be helpful especially when using a customized base model or additional LoRAs.\n\n## Sampler steps\n\nThe 4-step adapter works well for any number of sampling steps greater than or equal to 4."],"color":"#432","bgcolor":"#653"}],"links":[[74,38,0,6,0,"CLIP"],[76,39,0,8,1,"VAE"],[110,8,0,60,0,"IMAGE"],[149,6,0,79,1,"CONDITIONING"],[150,58,0,79,2,"LATENT"],[153,78,0,80,0,"MODEL"],[154,80,0,79,0,"MODEL"],[157,79,0,8,0,"LATENT"]],"groups":[{"id":1,"title":"Step1 - Load models","bounding":[10,-20,350,460],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Step2 - Image size","bounding":[10,450,350,190],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Step3 - Prompt","bounding":[380,140,440,260],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.3513057093104648,"offset":[951.445138326468,164.14356562083557]},"frontendVersion":"1.23.4","ue_links":[],"links_added_by_ue":[],"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}